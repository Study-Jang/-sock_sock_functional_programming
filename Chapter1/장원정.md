# 1. 쏙쏙 들어오는 함수형 코딩에 오신 것을 환영합니다

- 함수형 사고가 무엇인지 설명한다.
- 함수형 프로그래머가 경험으로 깨달은 두 가지 통찰

## 함수형 프로그래밍은 무엇인가요?

> 함수형 프로그래밍 (위키피디아 내용)
>
> 1. 수학 함수를 사용하고 부수 효과를 피하는 것이 특징인 프로그래밍 패러다임
> 2. 부수 효과 없이 순수 함수만을 사용하는 프로그래밍 스타일

### 부수 효과

- 함수가 리턴값 이외에 하는 모든 일(예: 메일 보내기, 전역 상태 수정 등).
- 함수를 부를 때마다 발생하기 때문에 문제가 될 수 있다.
- 대부분의 함수형 프로그래머는 불필요한 부수 효과를 최소화하려 한다.

### 순수 함수

- 인자에만 의존하고 부수 효과가 없는 함수
- 인자에만 의존한다는 말은 같은 인자를 넣으면 항상 같은 결과를 반환한다는 말.
- 수학 함수라고도 함.

정의에 따르면 함수형 프로그래머는 항상 부수 효과를 피하고 순수 함수만 사용해야 할 것 같지만, 그렇지 않다.

부수 효과는 소프트 웨어를 실행하는 이유로 필요할 때는 사용해야 한다.
함수형 프로그래밍은 부수 효과가 필요하지만 문제가 될 수 있다는 것을 알기 때문에 잘 다루기 위한 기술이 많이 있다.

이 책에서는 함수형 프로그래밍을 하기 위해 당장 쓸 수 있는 기술과 개념을 배울 수 있다.
함수형 프로그래밍은 객체 지향 프로그래밍이나 절차적 프로그래밍을 가리지 않고 모든 프로그래밍 언어에서 쓸 수 있다.

## 액션과 계산, 데이터 구분하기

```js
code === 호출하는 횟수나 호출하는 시점이 중요한 코드 ? 액션 : code === 실행하는 코드 ? 계산 : 데이터
```

함수형 프로그래머는 코드를 액션과 계산, 데이터로 구분한다.
이것이 함수형 프로그래밍의 핵심 개념이고, 이런 구분을 바탕으로 만든 기술과 개념이 많이 있다.

## 함수형 프로그래머는 액션과 계산, 데이터를 구분합니다

여러 클라이언트가 작업 완료 표시를 하면 서버에서 이메일 통해 알려주는 서비스가 있다.

사용자가 작업 완료 표시 -> 클라이언트가 서버로 메세지 보냄 -> 서버가 메세지를 받음 -> 서버가 데이터 베이스를 변경 -> 서버가 누구에게 알림을 보낼지 결정 -> 서버가 이메일로 알림을 보냄

위 시나리오에서 각 단계를 액션, 계산, 데이터로 구분해보자.

### 사용자가 작업 완료 표시

- UI 이벤트로 실행 횟수에 의존하므로 액션이라고 한다(잘 납득이 안 돼서 의논 필요).

### 클라이언트가 서버로 메세지 보냄

- 메세지 자체는 데이터, 보내는 것은 액션

### 서버가 메세지를 받음

- 메세지를 받은 것은 횟수에 의존하므로 액션

### 서버가 데이터 베이스를 변경

- 내부 상태를 바꾸는 것은 액션

### 서버가 누구에게 알림을 보낼지 결정

- 입력값이 같다면 서버는 항상 같은 결정을 내리기 때문에 계산

### 서버가 이메일로 알림을 보냄

- 이메일 보내기는 액션

위에서 구분한 방법이 잘 이해되지 않아도 파트 1에서 코드를 구분하는 방법과 왜 그렇게 하는지 자세히 설명한다.

## 함수형 프로그래밍에서는 코드를 세 가지로 분류한다.

### 1. 액션

- 실행 시점이나 횟수 또는 둘 다에 의존한다.
- 메일을 오늘 보내는 것과 다음 주에 보내는 것은 다르고, 같은 메일을 10번 보내는 것과 한 번 보내는 것 또는 보내지 않는 것 역시 다르다(잘 이해되지 않음).

#### 함수형 프로그래밍 도구

- 시간이 지남에 따라 안전하게 상태를 바꿀 수 있는 방법
- 순서를 보장하는 방법
- 액션이 정확히 한 번만 실행되게 보장하는 방법

### 2. 계산

- 입력값으로 출력값을 만드는 것.
- 언제, 어디서 계산해도 결과는 같고 외부에 영향을 주지 않음.
- 테스트하기 쉽고 언제든지 몇 번을 불러도 안전하다.

#### 함수형 프로그래밍 도구

- 정확성을 위한 정적 분석
- 소프트웨어에서 쓸 수 있는 수학적 지식
- 테스트 전략

### 3. 데이터

- 이벤트에 대해 기록한 사실.

#### 함수형 프로그래밍 도구

- 효율적으로 접근하기 위해 데이터를 구성하는 방법
- 데이터를 보관하기 위한 기술
- 데이터를 이용해 중요한 것을 발견하는 원칙

## 액션, 계산, 데이터를 구분하면 어떤 장점이 있나요?

함수형 프로그램은 단순한 트렌드가 아니다.
수학 지식을 기반으로 하는 가장 오래된 프로그래밍 패러다임이다.

최근 들어 네트워크 통신을 하는 복잡한 소프트웨어가 필요하게 되었고, 그런 이유로 함수형 프로그래밍이 다시 각광받게 되었다.

여러 컴퓨터가 네트워크를 통해 통신하기 시작하면 소프트웨어가 복잡해진다.
시간에 따라 바뀌는 값을 모델링할 때 동작 방법을 이해하는 것은 중요하지만 쉽지 않다.
실행 시점이나 횟수에 의존하는 코드를 없애면, 코드를 더 쉽게 이해할 수 있고 심각한 버그를 막을 수 있다.

> 분산 시스템 문제점
>
> 1. 메세지 순서가 바뀔 수 있다.
> 2. 메세지는 한 번 이상 도착할 수도 있고 도착하지 않을 수 있다.
> 3. 응답을 받지 못하면 무슨 일이 생겼는지 알 수 없다.

데이터와 계산은 실행 시점이나 횟수에 의존하지 않기 때문에 분산 시스템에서 생기는 여러 문제를 해결할 수 있다.

액션은 실행 시점과 횟수에 의존하기 때문에 문제가 되지만 코드 전체에 영향을 주지 않도록 격리시키면 된다.
코드의 많은 부분을 액션에서 계산으로 옮기면 액션도 다루기 쉬워지고, 안전하게 다룰 수 있는 기술이 있기 때문에 안심할 수 있다.

## 함수형 사고가 무엇인가요?

함수형 프로그래밍에서 가장 중요하다고 생각하는 두 가지 개념은

1. 액션과 계산, 데이터를 구분해서 생각하는 것
2. 일급 추상

이다.
이 두가지 개념을 이해하는 것이 전문적인 함수형 프로그래머로 가는 길이다.

## 토론하고 싶은 주제

1. 액션의 구분이 조금 모호하다고 생각하는데 각자 어떻게 생각하셨나요?
2. 앞으로 스터디 방향
